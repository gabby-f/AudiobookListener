{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommonTagMapper = void 0;\nclass CommonTagMapper {\n  static toIntOrNull(str) {\n    const cleaned = parseInt(str, 10);\n    return isNaN(cleaned) ? null : cleaned;\n  }\n  // TODO: a string of 1of1 would fail to be converted\n  // converts 1/10 to no : 1, of : 10\n  // or 1 to no : 1, of : 0\n  static normalizeTrack(origVal) {\n    const split = origVal.toString().split('/');\n    return {\n      no: parseInt(split[0], 10) || null,\n      of: parseInt(split[1], 10) || null\n    };\n  }\n  constructor(tagTypes, tagMap) {\n    this.tagTypes = tagTypes;\n    this.tagMap = tagMap;\n  }\n  /**\n   * Process and set common tags\n   * write common tags to\n   * @param tag Native tag\n   * @param warnings Register warnings\n   * @return common name\n   */\n  mapGenericTag(tag, warnings) {\n    tag = {\n      id: tag.id,\n      value: tag.value\n    }; // clone object\n    this.postMap(tag, warnings);\n    // Convert native tag event to generic 'alias' tag\n    const id = this.getCommonName(tag.id);\n    return id ? {\n      id,\n      value: tag.value\n    } : null;\n  }\n  /**\n   * Convert native tag key to common tag key\n   * @tag  Native header tag\n   * @return common tag name (alias)\n   */\n  getCommonName(tag) {\n    return this.tagMap[tag];\n  }\n  /**\n   * Handle post mapping exceptions / correction\n   * @param tag Tag e.g. {\"Â©alb\", \"Buena Vista Social Club\")\n   * @param warnings Used to register warnings\n   */\n  postMap(tag, warnings) {\n    return;\n  }\n}\nCommonTagMapper.maxRatingScore = 1;\nexports.CommonTagMapper = CommonTagMapper;\n//# sourceMappingURL=GenericTagMapper.js.map","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}