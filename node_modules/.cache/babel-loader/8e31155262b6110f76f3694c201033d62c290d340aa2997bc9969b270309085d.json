{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gabby\\\\Documents\\\\Audiobook Listener\\\\src\\\\Components\\\\audiobook\\\\AudiobookPlayer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { List, X, Disc3 } from 'lucide-react';\nimport { Button } from '../ui/button';\nimport PlaybackControls from './PlaybackControls';\nimport ProgressBar from './ProgressBar';\nimport ChapterList from './ChapterList';\nimport SpeedControl from './SpeedControl';\nimport VolumeControl from './VolumeControl';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AudiobookPlayer({\n  file,\n  chapters,\n  bookInfo,\n  onClose,\n  savedState,\n  onSaveState\n}) {\n  _s();\n  var _file$name;\n  const audioRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [buffered, setBuffered] = useState(0);\n  const [volume, setVolume] = useState(1);\n  const [isMuted, setIsMuted] = useState(false);\n  const [speed, setSpeed] = useState(1);\n  const [showChapters, setShowChapters] = useState(false);\n  const [currentChapterIndex, setCurrentChapterIndex] = useState(0);\n  const [audioUrl, setAudioUrl] = useState(null);\n\n  // Create object URL for the file\n  useEffect(() => {\n    if (file) {\n      const url = URL.createObjectURL(file);\n      setAudioUrl(url);\n      return () => URL.revokeObjectURL(url);\n    }\n  }, [file]);\n\n  // Restore saved playback position\n  useEffect(() => {\n    if (audioRef.current && savedState && savedState.currentTime) {\n      audioRef.current.currentTime = savedState.currentTime;\n      setCurrentTime(savedState.currentTime);\n      if (savedState.volume !== undefined) setVolume(savedState.volume);\n      if (savedState.speed !== undefined) {\n        setSpeed(savedState.speed);\n        audioRef.current.playbackRate = savedState.speed;\n      }\n    }\n  }, [savedState, audioUrl]);\n\n  // Try to autoplay when a new audio URL is available (user gesture from file select usually allows this)\n  useEffect(() => {\n    if (!audioUrl || !audioRef.current) return;\n    const tryPlay = async () => {\n      try {\n        await audioRef.current.play();\n        setIsPlaying(true);\n        // If this was a restore attempt, mark it handled\n        if (onAutoPlayHandled) onAutoPlayHandled();\n      } catch (err) {\n        // Autoplay may be blocked by the browser; keep UI ready for manual play\n        // eslint-disable-next-line no-console\n        console.warn('Autoplay attempt was blocked or failed:', err);\n        if (autoPlayRestore) {\n          setShowResumePrompt(true);\n        }\n      }\n    };\n    tryPlay();\n  }, [audioUrl, autoPlayRestore, onAutoPlayHandled]);\n\n  // Show a resume prompt when autoplay was blocked for restored files\n  const [showResumePrompt, setShowResumePrompt] = useState(false);\n\n  // Brief unobtrusive toast to confirm a restored book\n  const [showRestoreToast, setShowRestoreToast] = useState(false);\n  useEffect(() => {\n    if (restoreTitle) {\n      setShowRestoreToast(true);\n      const t = setTimeout(() => setShowRestoreToast(false), 3500);\n      return () => clearTimeout(t);\n    }\n  }, [restoreTitle]);\n  const handleResumeClick = async () => {\n    if (!audioRef.current) return;\n    try {\n      await audioRef.current.play();\n      setIsPlaying(true);\n      setShowResumePrompt(false);\n      if (onAutoPlayHandled) onAutoPlayHandled();\n    } catch (err) {\n      // If still blocked, keep the prompt visible\n      // eslint-disable-next-line no-console\n      console.warn('User-initiated resume failed:', err);\n    }\n  };\n\n  // Save state periodically during playback\n  useEffect(() => {\n    if (!isPlaying || !onSaveState) return;\n    const interval = setInterval(() => {\n      onSaveState({\n        currentTime,\n        volume,\n        speed,\n        timestamp: Date.now()\n      });\n    }, 5000); // Save every 5 seconds\n\n    return () => clearInterval(interval);\n  }, [isPlaying, currentTime, volume, speed, onSaveState]);\n\n  // Update current chapter based on playback time\n  useEffect(() => {\n    if (chapters.length === 0) return;\n    const chapterIndex = chapters.findIndex((chapter, index) => {\n      const nextChapter = chapters[index + 1];\n      if (nextChapter) {\n        return currentTime >= chapter.startTime && currentTime < nextChapter.startTime;\n      }\n      return currentTime >= chapter.startTime;\n    });\n    if (chapterIndex !== -1 && chapterIndex !== currentChapterIndex) {\n      setCurrentChapterIndex(chapterIndex);\n    }\n  }, [currentTime, chapters, currentChapterIndex]);\n  const handlePlayPause = useCallback(() => {\n    if (!audioRef.current) return;\n    if (isPlaying) {\n      audioRef.current.pause();\n    } else {\n      audioRef.current.play();\n    }\n    setIsPlaying(!isPlaying);\n  }, [isPlaying]);\n  const handleSeek = useCallback(time => {\n    if (!audioRef.current) return;\n    audioRef.current.currentTime = time;\n    setCurrentTime(time);\n  }, []);\n  const handleSkipBack = useCallback(() => {\n    if (!audioRef.current) return;\n    audioRef.current.currentTime = Math.max(0, audioRef.current.currentTime - 15);\n  }, []);\n  const handleSkipForward = useCallback(() => {\n    if (!audioRef.current) return;\n    audioRef.current.currentTime = Math.min(duration, audioRef.current.currentTime + 15);\n  }, [duration]);\n  const handlePrevChapter = useCallback(() => {\n    if (chapters.length <= 1 || currentChapterIndex === 0) return;\n    const prevChapter = chapters[currentChapterIndex - 1];\n    if (prevChapter && audioRef.current) {\n      audioRef.current.currentTime = prevChapter.startTime;\n    }\n  }, [chapters, currentChapterIndex]);\n  const handleNextChapter = useCallback(() => {\n    if (chapters.length <= 1 || currentChapterIndex >= chapters.length - 1) return;\n    const nextChapter = chapters[currentChapterIndex + 1];\n    if (nextChapter && audioRef.current) {\n      audioRef.current.currentTime = nextChapter.startTime;\n    }\n  }, [chapters, currentChapterIndex]);\n  const handleChapterSelect = useCallback(index => {\n    if (chapters[index] && audioRef.current) {\n      audioRef.current.currentTime = chapters[index].startTime;\n      setShowChapters(false);\n    }\n  }, [chapters]);\n  const handleVolumeChange = useCallback(newVolume => {\n    if (!audioRef.current) return;\n    audioRef.current.volume = newVolume;\n    setVolume(newVolume);\n    setIsMuted(newVolume === 0);\n  }, []);\n  const handleToggleMute = useCallback(() => {\n    if (!audioRef.current) return;\n    const newMuted = !isMuted;\n    audioRef.current.muted = newMuted;\n    setIsMuted(newMuted);\n  }, [isMuted]);\n  const handleSpeedChange = useCallback(newSpeed => {\n    if (!audioRef.current) return;\n    audioRef.current.playbackRate = newSpeed;\n    setSpeed(newSpeed);\n  }, []);\n  const handleTimeUpdate = useCallback(() => {\n    if (!audioRef.current) return;\n    setCurrentTime(audioRef.current.currentTime);\n  }, []);\n  const handleLoadedMetadata = useCallback(() => {\n    if (!audioRef.current) return;\n    setDuration(audioRef.current.duration);\n  }, []);\n  const handleProgress = useCallback(() => {\n    if (!audioRef.current || !audioRef.current.buffered.length) return;\n    const bufferedEnd = audioRef.current.buffered.end(audioRef.current.buffered.length - 1);\n    setBuffered(bufferedEnd);\n  }, []);\n  const currentChapter = chapters[currentChapterIndex];\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    className: \"flex flex-col h-full bg-gradient-to-b from-slate-900 via-slate-950 to-black\",\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      src: audioUrl,\n      onTimeUpdate: handleTimeUpdate,\n      onLoadedMetadata: handleLoadedMetadata,\n      onProgress: handleProgress,\n      onPlay: () => setIsPlaying(true),\n      onPause: () => setIsPlaying(false),\n      onEnded: () => setIsPlaying(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sticky top-0 z-30 backdrop-blur-md bg-slate-950/50 border-b border-slate-800/50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between px-4 md:px-6 py-3 md:py-4\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"ghost\",\n          size: \"icon\",\n          onClick: onClose,\n          className: \"text-slate-400 hover:text-white hover:bg-slate-800/50 rounded-full transition-all duration-200\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs uppercase tracking-widest text-slate-500 font-semibold\",\n          children: \"Now Playing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1 md:gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            size: \"icon\",\n            onClick: () => setShowChapters(true),\n            className: \"text-slate-400 hover:text-emerald-400 hover:bg-slate-800/50 rounded-full transition-all duration-200\",\n            children: /*#__PURE__*/_jsxDEV(List, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(SpeedControl, {\n            speed: speed,\n            onSpeedChange: handleSpeedChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(VolumeControl, {\n            volume: volume,\n            onVolumeChange: handleVolumeChange,\n            isMuted: isMuted,\n            onToggleMute: handleToggleMute\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }, this), showResumePrompt && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-emerald-600/95 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"Resume playback to continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleResumeClick,\n          variant: \"default\",\n          size: \"sm\",\n          children: \"Resume\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 17\n    }, this), showRestoreToast && restoreTitle && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-6 right-6 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-slate-800/90 text-slate-100 px-4 py-2 rounded shadow-md flex items-center gap-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm\",\n          children: [\"Restored: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium ml-1\",\n            children: restoreTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 60\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col items-center justify-center px-4 md:px-6 py-8 overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          scale: 0.8,\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          scale: 1,\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          delay: 0.1,\n          duration: 0.6\n        },\n        className: \"relative mb-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(motion.div, {\n            animate: isPlaying ? {\n              opacity: [0.4, 0.6, 0.4]\n            } : {\n              opacity: 0.2\n            },\n            transition: isPlaying ? {\n              duration: 3,\n              repeat: Infinity\n            } : {},\n            className: \"absolute inset-0 -z-10 blur-3xl bg-gradient-to-br from-emerald-500/40 to-cyan-500/20 rounded-3xl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n            animate: isPlaying ? {\n              rotateZ: 360\n            } : {},\n            transition: isPlaying ? {\n              duration: 8,\n              repeat: Infinity,\n              ease: \"linear\"\n            } : {},\n            className: \"w-56 h-56 md:w-72 md:h-72 rounded-3xl bg-gradient-to-br from-slate-700 to-slate-900 \\r shadow-2xl shadow-emerald-500/20 flex items-center justify-center overflow-hidden border-4 border-slate-800\",\n            children: bookInfo !== null && bookInfo !== void 0 && bookInfo.cover ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: bookInfo.cover,\n              alt: bookInfo.title || 'Audiobook cover',\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center w-full h-full bg-gradient-to-br from-slate-600 to-slate-800\",\n              children: /*#__PURE__*/_jsxDEV(Disc3, {\n                className: `w-24 h-24 text-slate-400 ${isPlaying ? 'animate-spin' : ''}`,\n                style: {\n                  animationDuration: isPlaying ? '3s' : 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          y: 20,\n          opacity: 0\n        },\n        animate: {\n          y: 0,\n          opacity: 1\n        },\n        transition: {\n          delay: 0.2\n        },\n        className: \"text-center mb-6 max-w-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-2 leading-tight\",\n          children: (bookInfo === null || bookInfo === void 0 ? void 0 : bookInfo.title) || (file === null || file === void 0 ? void 0 : (_file$name = file.name) === null || _file$name === void 0 ? void 0 : _file$name.replace(/\\.[^/.]+$/, '')) || 'Unknown Title'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 21\n        }, this), (bookInfo === null || bookInfo === void 0 ? void 0 : bookInfo.artist) && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-base md:text-lg text-slate-400 font-light mb-3\",\n          children: bookInfo.artist\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }, this), currentChapter && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        transition: {\n          delay: 0.25\n        },\n        className: \"mb-8 px-4 py-3 rounded-xl bg-emerald-500/10 border border-emerald-500/20 text-center max-w-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs uppercase tracking-widest text-emerald-400 font-semibold mb-1\",\n          children: \"Current Chapter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm md:text-base text-white font-medium\",\n          children: currentChapter.title || `Chapter ${currentChapterIndex + 1}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          y: 20,\n          opacity: 0\n        },\n        animate: {\n          y: 0,\n          opacity: 1\n        },\n        transition: {\n          delay: 0.3\n        },\n        className: \"w-full max-w-2xl mb-8\",\n        children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n          currentTime: currentTime,\n          duration: duration,\n          buffered: buffered,\n          onSeek: handleSeek\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          y: 20,\n          opacity: 0,\n          scale: 0.9\n        },\n        animate: {\n          y: 0,\n          opacity: 1,\n          scale: 1\n        },\n        transition: {\n          delay: 0.4\n        },\n        children: /*#__PURE__*/_jsxDEV(PlaybackControls, {\n          isPlaying: isPlaying,\n          onPlayPause: handlePlayPause,\n          onSkipBack: handleSkipBack,\n          onSkipForward: handleSkipForward,\n          onPrevChapter: handlePrevChapter,\n          onNextChapter: handleNextChapter,\n          hasChapters: chapters.length > 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ChapterList, {\n      chapters: chapters,\n      currentChapterIndex: currentChapterIndex,\n      currentTime: currentTime,\n      onChapterSelect: handleChapterSelect,\n      isOpen: showChapters,\n      onClose: () => setShowChapters(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 9\n  }, this);\n}\n_s(AudiobookPlayer, \"yXwEf8j1wftBU+Bwm3Em9EXqadA=\");\n_c = AudiobookPlayer;\nvar _c;\n$RefreshReg$(_c, \"AudiobookPlayer\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","motion","List","X","Disc3","Button","PlaybackControls","ProgressBar","ChapterList","SpeedControl","VolumeControl","jsxDEV","_jsxDEV","AudiobookPlayer","file","chapters","bookInfo","onClose","savedState","onSaveState","_s","_file$name","audioRef","isPlaying","setIsPlaying","currentTime","setCurrentTime","duration","setDuration","buffered","setBuffered","volume","setVolume","isMuted","setIsMuted","speed","setSpeed","showChapters","setShowChapters","currentChapterIndex","setCurrentChapterIndex","audioUrl","setAudioUrl","url","URL","createObjectURL","revokeObjectURL","current","undefined","playbackRate","tryPlay","play","onAutoPlayHandled","err","console","warn","autoPlayRestore","setShowResumePrompt","showResumePrompt","showRestoreToast","setShowRestoreToast","restoreTitle","t","setTimeout","clearTimeout","handleResumeClick","interval","setInterval","timestamp","Date","now","clearInterval","length","chapterIndex","findIndex","chapter","index","nextChapter","startTime","handlePlayPause","pause","handleSeek","time","handleSkipBack","Math","max","handleSkipForward","min","handlePrevChapter","prevChapter","handleNextChapter","handleChapterSelect","handleVolumeChange","newVolume","handleToggleMute","newMuted","muted","handleSpeedChange","newSpeed","handleTimeUpdate","handleLoadedMetadata","handleProgress","bufferedEnd","end","currentChapter","div","initial","opacity","animate","className","children","ref","src","onTimeUpdate","onLoadedMetadata","onProgress","onPlay","onPause","onEnded","fileName","_jsxFileName","lineNumber","columnNumber","variant","size","onClick","onSpeedChange","onVolumeChange","onToggleMute","scale","y","transition","delay","repeat","Infinity","rotateZ","ease","cover","alt","title","style","animationDuration","name","replace","artist","onSeek","onPlayPause","onSkipBack","onSkipForward","onPrevChapter","onNextChapter","hasChapters","onChapterSelect","isOpen","_c","$RefreshReg$"],"sources":["C:/Users/gabby/Documents/Audiobook Listener/src/Components/audiobook/AudiobookPlayer.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { List, X, Disc3 } from 'lucide-react';\r\nimport { Button } from '../ui/button';\r\nimport PlaybackControls from './PlaybackControls';\r\nimport ProgressBar from './ProgressBar';\r\nimport ChapterList from './ChapterList';\r\nimport SpeedControl from './SpeedControl';\r\nimport VolumeControl from './VolumeControl';\r\n\r\nexport default function AudiobookPlayer({ file, chapters, bookInfo, onClose, savedState, onSaveState }) {\r\n    const audioRef = useRef(null);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [currentTime, setCurrentTime] = useState(0);\r\n    const [duration, setDuration] = useState(0);\r\n    const [buffered, setBuffered] = useState(0);\r\n    const [volume, setVolume] = useState(1);\r\n    const [isMuted, setIsMuted] = useState(false);\r\n    const [speed, setSpeed] = useState(1);\r\n    const [showChapters, setShowChapters] = useState(false);\r\n    const [currentChapterIndex, setCurrentChapterIndex] = useState(0);\r\n    const [audioUrl, setAudioUrl] = useState(null);\r\n\r\n    // Create object URL for the file\r\n    useEffect(() => {\r\n        if (file) {\r\n            const url = URL.createObjectURL(file);\r\n            setAudioUrl(url);\r\n            return () => URL.revokeObjectURL(url);\r\n        }\r\n    }, [file]);\r\n\r\n    // Restore saved playback position\r\n    useEffect(() => {\r\n        if (audioRef.current && savedState && savedState.currentTime) {\r\n            audioRef.current.currentTime = savedState.currentTime;\r\n            setCurrentTime(savedState.currentTime);\r\n            if (savedState.volume !== undefined) setVolume(savedState.volume);\r\n            if (savedState.speed !== undefined) {\r\n                setSpeed(savedState.speed);\r\n                audioRef.current.playbackRate = savedState.speed;\r\n            }\r\n        }\r\n    }, [savedState, audioUrl]);\r\n\r\n    // Try to autoplay when a new audio URL is available (user gesture from file select usually allows this)\r\n    useEffect(() => {\r\n        if (!audioUrl || !audioRef.current) return;\r\n\r\n        const tryPlay = async () => {\r\n            try {\r\n                await audioRef.current.play();\r\n                setIsPlaying(true);\r\n                // If this was a restore attempt, mark it handled\r\n                if (onAutoPlayHandled) onAutoPlayHandled();\r\n            } catch (err) {\r\n                // Autoplay may be blocked by the browser; keep UI ready for manual play\r\n                // eslint-disable-next-line no-console\r\n                console.warn('Autoplay attempt was blocked or failed:', err);\r\n                if (autoPlayRestore) {\r\n                    setShowResumePrompt(true);\r\n                }\r\n            }\r\n        };\r\n\r\n        tryPlay();\r\n    }, [audioUrl, autoPlayRestore, onAutoPlayHandled]);\r\n\r\n    // Show a resume prompt when autoplay was blocked for restored files\r\n    const [showResumePrompt, setShowResumePrompt] = useState(false);\r\n\r\n    // Brief unobtrusive toast to confirm a restored book\r\n    const [showRestoreToast, setShowRestoreToast] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (restoreTitle) {\r\n            setShowRestoreToast(true);\r\n            const t = setTimeout(() => setShowRestoreToast(false), 3500);\r\n            return () => clearTimeout(t);\r\n        }\r\n    }, [restoreTitle]);\r\n\r\n    const handleResumeClick = async () => {\r\n        if (!audioRef.current) return;\r\n        try {\r\n            await audioRef.current.play();\r\n            setIsPlaying(true);\r\n            setShowResumePrompt(false);\r\n            if (onAutoPlayHandled) onAutoPlayHandled();\r\n        } catch (err) {\r\n            // If still blocked, keep the prompt visible\r\n            // eslint-disable-next-line no-console\r\n            console.warn('User-initiated resume failed:', err);\r\n        }\r\n    };\r\n\r\n    // Save state periodically during playback\r\n    useEffect(() => {\r\n        if (!isPlaying || !onSaveState) return;\r\n        \r\n        const interval = setInterval(() => {\r\n            onSaveState({\r\n                currentTime,\r\n                volume,\r\n                speed,\r\n                timestamp: Date.now()\r\n            });\r\n        }, 5000); // Save every 5 seconds\r\n        \r\n        return () => clearInterval(interval);\r\n    }, [isPlaying, currentTime, volume, speed, onSaveState]);\r\n\r\n    // Update current chapter based on playback time\r\n    useEffect(() => {\r\n        if (chapters.length === 0) return;\r\n        \r\n        const chapterIndex = chapters.findIndex((chapter, index) => {\r\n            const nextChapter = chapters[index + 1];\r\n            if (nextChapter) {\r\n                return currentTime >= chapter.startTime && currentTime < nextChapter.startTime;\r\n            }\r\n            return currentTime >= chapter.startTime;\r\n        });\r\n        \r\n        if (chapterIndex !== -1 && chapterIndex !== currentChapterIndex) {\r\n            setCurrentChapterIndex(chapterIndex);\r\n        }\r\n    }, [currentTime, chapters, currentChapterIndex]);\r\n\r\n    const handlePlayPause = useCallback(() => {\r\n        if (!audioRef.current) return;\r\n        if (isPlaying) {\r\n            audioRef.current.pause();\r\n        } else {\r\n            audioRef.current.play();\r\n        }\r\n        setIsPlaying(!isPlaying);\r\n    }, [isPlaying]);\r\n\r\n    const handleSeek = useCallback((time) => {\r\n        if (!audioRef.current) return;\r\n        audioRef.current.currentTime = time;\r\n        setCurrentTime(time);\r\n    }, []);\r\n\r\n    const handleSkipBack = useCallback(() => {\r\n        if (!audioRef.current) return;\r\n        audioRef.current.currentTime = Math.max(0, audioRef.current.currentTime - 15);\r\n    }, []);\r\n\r\n    const handleSkipForward = useCallback(() => {\r\n        if (!audioRef.current) return;\r\n        audioRef.current.currentTime = Math.min(duration, audioRef.current.currentTime + 15);\r\n    }, [duration]);\r\n\r\n    const handlePrevChapter = useCallback(() => {\r\n        if (chapters.length <= 1 || currentChapterIndex === 0) return;\r\n        const prevChapter = chapters[currentChapterIndex - 1];\r\n        if (prevChapter && audioRef.current) {\r\n            audioRef.current.currentTime = prevChapter.startTime;\r\n        }\r\n    }, [chapters, currentChapterIndex]);\r\n\r\n    const handleNextChapter = useCallback(() => {\r\n        if (chapters.length <= 1 || currentChapterIndex >= chapters.length - 1) return;\r\n        const nextChapter = chapters[currentChapterIndex + 1];\r\n        if (nextChapter && audioRef.current) {\r\n            audioRef.current.currentTime = nextChapter.startTime;\r\n        }\r\n    }, [chapters, currentChapterIndex]);\r\n\r\n    const handleChapterSelect = useCallback((index) => {\r\n        if (chapters[index] && audioRef.current) {\r\n            audioRef.current.currentTime = chapters[index].startTime;\r\n            setShowChapters(false);\r\n        }\r\n    }, [chapters]);\r\n\r\n    const handleVolumeChange = useCallback((newVolume) => {\r\n        if (!audioRef.current) return;\r\n        audioRef.current.volume = newVolume;\r\n        setVolume(newVolume);\r\n        setIsMuted(newVolume === 0);\r\n    }, []);\r\n\r\n    const handleToggleMute = useCallback(() => {\r\n        if (!audioRef.current) return;\r\n        const newMuted = !isMuted;\r\n        audioRef.current.muted = newMuted;\r\n        setIsMuted(newMuted);\r\n    }, [isMuted]);\r\n\r\n    const handleSpeedChange = useCallback((newSpeed) => {\r\n        if (!audioRef.current) return;\r\n        audioRef.current.playbackRate = newSpeed;\r\n        setSpeed(newSpeed);\r\n    }, []);\r\n\r\n    const handleTimeUpdate = useCallback(() => {\r\n        if (!audioRef.current) return;\r\n        setCurrentTime(audioRef.current.currentTime);\r\n    }, []);\r\n\r\n    const handleLoadedMetadata = useCallback(() => {\r\n        if (!audioRef.current) return;\r\n        setDuration(audioRef.current.duration);\r\n    }, []);\r\n\r\n    const handleProgress = useCallback(() => {\r\n        if (!audioRef.current || !audioRef.current.buffered.length) return;\r\n        const bufferedEnd = audioRef.current.buffered.end(audioRef.current.buffered.length - 1);\r\n        setBuffered(bufferedEnd);\r\n    }, []);\r\n\r\n    const currentChapter = chapters[currentChapterIndex];\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            className=\"flex flex-col h-full bg-gradient-to-b from-slate-900 via-slate-950 to-black\"\r\n        >\r\n            {/* Hidden Audio Element */}\r\n            <audio\r\n                ref={audioRef}\r\n                src={audioUrl}\r\n                onTimeUpdate={handleTimeUpdate}\r\n                onLoadedMetadata={handleLoadedMetadata}\r\n                onProgress={handleProgress}\r\n                onPlay={() => setIsPlaying(true)}\r\n                onPause={() => setIsPlaying(false)}\r\n                onEnded={() => setIsPlaying(false)}\r\n            />\r\n\r\n            {/* Top Controls - Spotify Style */}\r\n            <div className=\"sticky top-0 z-30 backdrop-blur-md bg-slate-950/50 border-b border-slate-800/50\">\r\n                <div className=\"flex items-center justify-between px-4 md:px-6 py-3 md:py-4\">\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        onClick={onClose}\r\n                        className=\"text-slate-400 hover:text-white hover:bg-slate-800/50 rounded-full transition-all duration-200\"\r\n                    >\r\n                        <X className=\"w-5 h-5\" />\r\n                    </Button>\r\n                    \r\n                    <p className=\"text-xs uppercase tracking-widest text-slate-500 font-semibold\">\r\n                        Now Playing\r\n                    </p>\r\n                    \r\n                    <div className=\"flex items-center gap-1 md:gap-2\">\r\n                        <Button\r\n                            variant=\"ghost\"\r\n                            size=\"icon\"\r\n                            onClick={() => setShowChapters(true)}\r\n                            className=\"text-slate-400 hover:text-emerald-400 hover:bg-slate-800/50 rounded-full transition-all duration-200\"\r\n                        >\r\n                            <List className=\"w-5 h-5\" />\r\n                        </Button>\r\n                        <SpeedControl speed={speed} onSpeedChange={handleSpeedChange} />\r\n                        <VolumeControl \r\n                            volume={volume} \r\n                            onVolumeChange={handleVolumeChange}\r\n                            isMuted={isMuted}\r\n                            onToggleMute={handleToggleMute}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Resume Prompt when autoplay was blocked */}\r\n            {showResumePrompt && (\r\n                <div className=\"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50\">\r\n                    <div className=\"bg-emerald-600/95 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-3\">\r\n                        <span className=\"text-sm\">Resume playback to continue</span>\r\n                        <Button onClick={handleResumeClick} variant=\"default\" size=\"sm\">Resume</Button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Small restore confirmation toast */}\r\n            {showRestoreToast && restoreTitle && (\r\n                <div className=\"fixed top-6 right-6 z-50\">\r\n                    <div className=\"bg-slate-800/90 text-slate-100 px-4 py-2 rounded shadow-md flex items-center gap-3\">\r\n                        <div className=\"text-sm\">Restored: <span className=\"font-medium ml-1\">{restoreTitle}</span></div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Main Content - Centered Layout */}\r\n            <div className=\"flex-1 flex flex-col items-center justify-center px-4 md:px-6 py-8 overflow-y-auto\">\r\n                {/* Album Art / Cover - Large and Animated */}\r\n                <motion.div\r\n                    initial={{ scale: 0.8, opacity: 0, y: 20 }}\r\n                    animate={{ scale: 1, opacity: 1, y: 0 }}\r\n                    transition={{ delay: 0.1, duration: 0.6 }}\r\n                    className=\"relative mb-12\"\r\n                >\r\n                    <div className=\"relative\">\r\n                        {/* Glow/Blur effect - behind cover */}\r\n                        <motion.div \r\n                            animate={isPlaying ? { opacity: [0.4, 0.6, 0.4] } : { opacity: 0.2 }}\r\n                            transition={isPlaying ? { duration: 3, repeat: Infinity } : {}}\r\n                            className=\"absolute inset-0 -z-10 blur-3xl bg-gradient-to-br from-emerald-500/40 to-cyan-500/20 rounded-3xl\" \r\n                        />\r\n                        \r\n                        {/* Cover Image */}\r\n                        <motion.div\r\n                            animate={isPlaying ? { \r\n                                rotateZ: 360,\r\n                            } : {}}\r\n                            transition={isPlaying ? { \r\n                                duration: 8, \r\n                                repeat: Infinity, \r\n                                ease: \"linear\" \r\n                            } : {}}\r\n                            className=\"w-56 h-56 md:w-72 md:h-72 rounded-3xl bg-gradient-to-br from-slate-700 to-slate-900 \r\n                                      shadow-2xl shadow-emerald-500/20 flex items-center justify-center overflow-hidden border-4 border-slate-800\"\r\n                        >\r\n                            {bookInfo?.cover ? (\r\n                                <img \r\n                                    src={bookInfo.cover} \r\n                                    alt={bookInfo.title || 'Audiobook cover'} \r\n                                    className=\"w-full h-full object-cover\"\r\n                                />\r\n                            ) : (\r\n                                <div className=\"flex items-center justify-center w-full h-full bg-gradient-to-br from-slate-600 to-slate-800\">\r\n                                    <Disc3 className={`w-24 h-24 text-slate-400 ${isPlaying ? 'animate-spin' : ''}`} style={{\r\n                                        animationDuration: isPlaying ? '3s' : 'none'\r\n                                    }} />\r\n                                </div>\r\n                            )}\r\n                        </motion.div>\r\n                    </div>\r\n                </motion.div>\r\n\r\n                {/* Book Title & Artist Info */}\r\n                <motion.div\r\n                    initial={{ y: 20, opacity: 0 }}\r\n                    animate={{ y: 0, opacity: 1 }}\r\n                    transition={{ delay: 0.2 }}\r\n                    className=\"text-center mb-6 max-w-2xl\"\r\n                >\r\n                    <h1 className=\"text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-2 leading-tight\">\r\n                        {bookInfo?.title || file?.name?.replace(/\\.[^/.]+$/, '') || 'Unknown Title'}\r\n                    </h1>\r\n                    {bookInfo?.artist && (\r\n                        <p className=\"text-base md:text-lg text-slate-400 font-light mb-3\">{bookInfo.artist}</p>\r\n                    )}\r\n                </motion.div>\r\n\r\n                {/* Current Chapter Info */}\r\n                {currentChapter && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        transition={{ delay: 0.25 }}\r\n                        className=\"mb-8 px-4 py-3 rounded-xl bg-emerald-500/10 border border-emerald-500/20 text-center max-w-lg\"\r\n                    >\r\n                        <p className=\"text-xs uppercase tracking-widest text-emerald-400 font-semibold mb-1\">Current Chapter</p>\r\n                        <p className=\"text-sm md:text-base text-white font-medium\">\r\n                            {currentChapter.title || `Chapter ${currentChapterIndex + 1}`}\r\n                        </p>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {/* Progress Bar */}\r\n                <motion.div\r\n                    initial={{ y: 20, opacity: 0 }}\r\n                    animate={{ y: 0, opacity: 1 }}\r\n                    transition={{ delay: 0.3 }}\r\n                    className=\"w-full max-w-2xl mb-8\"\r\n                >\r\n                    <ProgressBar\r\n                        currentTime={currentTime}\r\n                        duration={duration}\r\n                        buffered={buffered}\r\n                        onSeek={handleSeek}\r\n                    />\r\n                </motion.div>\r\n\r\n                {/* Playback Controls - Center Stage */}\r\n                <motion.div\r\n                    initial={{ y: 20, opacity: 0, scale: 0.9 }}\r\n                    animate={{ y: 0, opacity: 1, scale: 1 }}\r\n                    transition={{ delay: 0.4 }}\r\n                >\r\n                    <PlaybackControls\r\n                        isPlaying={isPlaying}\r\n                        onPlayPause={handlePlayPause}\r\n                        onSkipBack={handleSkipBack}\r\n                        onSkipForward={handleSkipForward}\r\n                        onPrevChapter={handlePrevChapter}\r\n                        onNextChapter={handleNextChapter}\r\n                        hasChapters={chapters.length > 1}\r\n                    />\r\n                </motion.div>\r\n            </div>\r\n\r\n            {/* Chapter List Drawer */}\r\n            <ChapterList\r\n                chapters={chapters}\r\n                currentChapterIndex={currentChapterIndex}\r\n                currentTime={currentTime}\r\n                onChapterSelect={handleChapterSelect}\r\n                isOpen={showChapters}\r\n                onClose={() => setShowChapters(false)}\r\n            />\r\n        </motion.div>\r\n    );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,MAAM,QAAQ,eAAe;AACtC,SAASC,IAAI,EAAEC,CAAC,EAAEC,KAAK,QAAQ,cAAc;AAC7C,SAASC,MAAM,QAAQ,cAAc;AACrC,OAAOC,gBAAgB,MAAM,oBAAoB;AACjD,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,aAAa,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,eAAe,SAASC,eAAeA,CAAC;EAAEC,IAAI;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC,OAAO;EAAEC,UAAU;EAAEC;AAAY,CAAC,EAAE;EAAAC,EAAA;EAAA,IAAAC,UAAA;EACpG,MAAMC,QAAQ,GAAGxB,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAM,CAACyB,SAAS,EAAEC,YAAY,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC4B,WAAW,EAAEC,cAAc,CAAC,GAAG7B,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAAC8B,QAAQ,EAAEC,WAAW,CAAC,GAAG/B,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACgC,QAAQ,EAAEC,WAAW,CAAC,GAAGjC,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACkC,MAAM,EAAEC,SAAS,CAAC,GAAGnC,QAAQ,CAAC,CAAC,CAAC;EACvC,MAAM,CAACoC,OAAO,EAAEC,UAAU,CAAC,GAAGrC,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACsC,KAAK,EAAEC,QAAQ,CAAC,GAAGvC,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACwC,YAAY,EAAEC,eAAe,CAAC,GAAGzC,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC0C,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG3C,QAAQ,CAAC,CAAC,CAAC;EACjE,MAAM,CAAC4C,QAAQ,EAAEC,WAAW,CAAC,GAAG7C,QAAQ,CAAC,IAAI,CAAC;;EAE9C;EACAE,SAAS,CAAC,MAAM;IACZ,IAAIe,IAAI,EAAE;MACN,MAAM6B,GAAG,GAAGC,GAAG,CAACC,eAAe,CAAC/B,IAAI,CAAC;MACrC4B,WAAW,CAACC,GAAG,CAAC;MAChB,OAAO,MAAMC,GAAG,CAACE,eAAe,CAACH,GAAG,CAAC;IACzC;EACJ,CAAC,EAAE,CAAC7B,IAAI,CAAC,CAAC;;EAEV;EACAf,SAAS,CAAC,MAAM;IACZ,IAAIuB,QAAQ,CAACyB,OAAO,IAAI7B,UAAU,IAAIA,UAAU,CAACO,WAAW,EAAE;MAC1DH,QAAQ,CAACyB,OAAO,CAACtB,WAAW,GAAGP,UAAU,CAACO,WAAW;MACrDC,cAAc,CAACR,UAAU,CAACO,WAAW,CAAC;MACtC,IAAIP,UAAU,CAACa,MAAM,KAAKiB,SAAS,EAAEhB,SAAS,CAACd,UAAU,CAACa,MAAM,CAAC;MACjE,IAAIb,UAAU,CAACiB,KAAK,KAAKa,SAAS,EAAE;QAChCZ,QAAQ,CAAClB,UAAU,CAACiB,KAAK,CAAC;QAC1Bb,QAAQ,CAACyB,OAAO,CAACE,YAAY,GAAG/B,UAAU,CAACiB,KAAK;MACpD;IACJ;EACJ,CAAC,EAAE,CAACjB,UAAU,EAAEuB,QAAQ,CAAC,CAAC;;EAE1B;EACA1C,SAAS,CAAC,MAAM;IACZ,IAAI,CAAC0C,QAAQ,IAAI,CAACnB,QAAQ,CAACyB,OAAO,EAAE;IAEpC,MAAMG,OAAO,GAAG,MAAAA,CAAA,KAAY;MACxB,IAAI;QACA,MAAM5B,QAAQ,CAACyB,OAAO,CAACI,IAAI,CAAC,CAAC;QAC7B3B,YAAY,CAAC,IAAI,CAAC;QAClB;QACA,IAAI4B,iBAAiB,EAAEA,iBAAiB,CAAC,CAAC;MAC9C,CAAC,CAAC,OAAOC,GAAG,EAAE;QACV;QACA;QACAC,OAAO,CAACC,IAAI,CAAC,yCAAyC,EAAEF,GAAG,CAAC;QAC5D,IAAIG,eAAe,EAAE;UACjBC,mBAAmB,CAAC,IAAI,CAAC;QAC7B;MACJ;IACJ,CAAC;IAEDP,OAAO,CAAC,CAAC;EACb,CAAC,EAAE,CAACT,QAAQ,EAAEe,eAAe,EAAEJ,iBAAiB,CAAC,CAAC;;EAElD;EACA,MAAM,CAACM,gBAAgB,EAAED,mBAAmB,CAAC,GAAG5D,QAAQ,CAAC,KAAK,CAAC;;EAE/D;EACA,MAAM,CAAC8D,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG/D,QAAQ,CAAC,KAAK,CAAC;EAE/DE,SAAS,CAAC,MAAM;IACZ,IAAI8D,YAAY,EAAE;MACdD,mBAAmB,CAAC,IAAI,CAAC;MACzB,MAAME,CAAC,GAAGC,UAAU,CAAC,MAAMH,mBAAmB,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;MAC5D,OAAO,MAAMI,YAAY,CAACF,CAAC,CAAC;IAChC;EACJ,CAAC,EAAE,CAACD,YAAY,CAAC,CAAC;EAElB,MAAMI,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI,CAAC3C,QAAQ,CAACyB,OAAO,EAAE;IACvB,IAAI;MACA,MAAMzB,QAAQ,CAACyB,OAAO,CAACI,IAAI,CAAC,CAAC;MAC7B3B,YAAY,CAAC,IAAI,CAAC;MAClBiC,mBAAmB,CAAC,KAAK,CAAC;MAC1B,IAAIL,iBAAiB,EAAEA,iBAAiB,CAAC,CAAC;IAC9C,CAAC,CAAC,OAAOC,GAAG,EAAE;MACV;MACA;MACAC,OAAO,CAACC,IAAI,CAAC,+BAA+B,EAAEF,GAAG,CAAC;IACtD;EACJ,CAAC;;EAED;EACAtD,SAAS,CAAC,MAAM;IACZ,IAAI,CAACwB,SAAS,IAAI,CAACJ,WAAW,EAAE;IAEhC,MAAM+C,QAAQ,GAAGC,WAAW,CAAC,MAAM;MAC/BhD,WAAW,CAAC;QACRM,WAAW;QACXM,MAAM;QACNI,KAAK;QACLiC,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC;MACxB,CAAC,CAAC;IACN,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;;IAEV,OAAO,MAAMC,aAAa,CAACL,QAAQ,CAAC;EACxC,CAAC,EAAE,CAAC3C,SAAS,EAAEE,WAAW,EAAEM,MAAM,EAAEI,KAAK,EAAEhB,WAAW,CAAC,CAAC;;EAExD;EACApB,SAAS,CAAC,MAAM;IACZ,IAAIgB,QAAQ,CAACyD,MAAM,KAAK,CAAC,EAAE;IAE3B,MAAMC,YAAY,GAAG1D,QAAQ,CAAC2D,SAAS,CAAC,CAACC,OAAO,EAAEC,KAAK,KAAK;MACxD,MAAMC,WAAW,GAAG9D,QAAQ,CAAC6D,KAAK,GAAG,CAAC,CAAC;MACvC,IAAIC,WAAW,EAAE;QACb,OAAOpD,WAAW,IAAIkD,OAAO,CAACG,SAAS,IAAIrD,WAAW,GAAGoD,WAAW,CAACC,SAAS;MAClF;MACA,OAAOrD,WAAW,IAAIkD,OAAO,CAACG,SAAS;IAC3C,CAAC,CAAC;IAEF,IAAIL,YAAY,KAAK,CAAC,CAAC,IAAIA,YAAY,KAAKlC,mBAAmB,EAAE;MAC7DC,sBAAsB,CAACiC,YAAY,CAAC;IACxC;EACJ,CAAC,EAAE,CAAChD,WAAW,EAAEV,QAAQ,EAAEwB,mBAAmB,CAAC,CAAC;EAEhD,MAAMwC,eAAe,GAAG/E,WAAW,CAAC,MAAM;IACtC,IAAI,CAACsB,QAAQ,CAACyB,OAAO,EAAE;IACvB,IAAIxB,SAAS,EAAE;MACXD,QAAQ,CAACyB,OAAO,CAACiC,KAAK,CAAC,CAAC;IAC5B,CAAC,MAAM;MACH1D,QAAQ,CAACyB,OAAO,CAACI,IAAI,CAAC,CAAC;IAC3B;IACA3B,YAAY,CAAC,CAACD,SAAS,CAAC;EAC5B,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEf,MAAM0D,UAAU,GAAGjF,WAAW,CAAEkF,IAAI,IAAK;IACrC,IAAI,CAAC5D,QAAQ,CAACyB,OAAO,EAAE;IACvBzB,QAAQ,CAACyB,OAAO,CAACtB,WAAW,GAAGyD,IAAI;IACnCxD,cAAc,CAACwD,IAAI,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,cAAc,GAAGnF,WAAW,CAAC,MAAM;IACrC,IAAI,CAACsB,QAAQ,CAACyB,OAAO,EAAE;IACvBzB,QAAQ,CAACyB,OAAO,CAACtB,WAAW,GAAG2D,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE/D,QAAQ,CAACyB,OAAO,CAACtB,WAAW,GAAG,EAAE,CAAC;EACjF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM6D,iBAAiB,GAAGtF,WAAW,CAAC,MAAM;IACxC,IAAI,CAACsB,QAAQ,CAACyB,OAAO,EAAE;IACvBzB,QAAQ,CAACyB,OAAO,CAACtB,WAAW,GAAG2D,IAAI,CAACG,GAAG,CAAC5D,QAAQ,EAAEL,QAAQ,CAACyB,OAAO,CAACtB,WAAW,GAAG,EAAE,CAAC;EACxF,CAAC,EAAE,CAACE,QAAQ,CAAC,CAAC;EAEd,MAAM6D,iBAAiB,GAAGxF,WAAW,CAAC,MAAM;IACxC,IAAIe,QAAQ,CAACyD,MAAM,IAAI,CAAC,IAAIjC,mBAAmB,KAAK,CAAC,EAAE;IACvD,MAAMkD,WAAW,GAAG1E,QAAQ,CAACwB,mBAAmB,GAAG,CAAC,CAAC;IACrD,IAAIkD,WAAW,IAAInE,QAAQ,CAACyB,OAAO,EAAE;MACjCzB,QAAQ,CAACyB,OAAO,CAACtB,WAAW,GAAGgE,WAAW,CAACX,SAAS;IACxD;EACJ,CAAC,EAAE,CAAC/D,QAAQ,EAAEwB,mBAAmB,CAAC,CAAC;EAEnC,MAAMmD,iBAAiB,GAAG1F,WAAW,CAAC,MAAM;IACxC,IAAIe,QAAQ,CAACyD,MAAM,IAAI,CAAC,IAAIjC,mBAAmB,IAAIxB,QAAQ,CAACyD,MAAM,GAAG,CAAC,EAAE;IACxE,MAAMK,WAAW,GAAG9D,QAAQ,CAACwB,mBAAmB,GAAG,CAAC,CAAC;IACrD,IAAIsC,WAAW,IAAIvD,QAAQ,CAACyB,OAAO,EAAE;MACjCzB,QAAQ,CAACyB,OAAO,CAACtB,WAAW,GAAGoD,WAAW,CAACC,SAAS;IACxD;EACJ,CAAC,EAAE,CAAC/D,QAAQ,EAAEwB,mBAAmB,CAAC,CAAC;EAEnC,MAAMoD,mBAAmB,GAAG3F,WAAW,CAAE4E,KAAK,IAAK;IAC/C,IAAI7D,QAAQ,CAAC6D,KAAK,CAAC,IAAItD,QAAQ,CAACyB,OAAO,EAAE;MACrCzB,QAAQ,CAACyB,OAAO,CAACtB,WAAW,GAAGV,QAAQ,CAAC6D,KAAK,CAAC,CAACE,SAAS;MACxDxC,eAAe,CAAC,KAAK,CAAC;IAC1B;EACJ,CAAC,EAAE,CAACvB,QAAQ,CAAC,CAAC;EAEd,MAAM6E,kBAAkB,GAAG5F,WAAW,CAAE6F,SAAS,IAAK;IAClD,IAAI,CAACvE,QAAQ,CAACyB,OAAO,EAAE;IACvBzB,QAAQ,CAACyB,OAAO,CAAChB,MAAM,GAAG8D,SAAS;IACnC7D,SAAS,CAAC6D,SAAS,CAAC;IACpB3D,UAAU,CAAC2D,SAAS,KAAK,CAAC,CAAC;EAC/B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,gBAAgB,GAAG9F,WAAW,CAAC,MAAM;IACvC,IAAI,CAACsB,QAAQ,CAACyB,OAAO,EAAE;IACvB,MAAMgD,QAAQ,GAAG,CAAC9D,OAAO;IACzBX,QAAQ,CAACyB,OAAO,CAACiD,KAAK,GAAGD,QAAQ;IACjC7D,UAAU,CAAC6D,QAAQ,CAAC;EACxB,CAAC,EAAE,CAAC9D,OAAO,CAAC,CAAC;EAEb,MAAMgE,iBAAiB,GAAGjG,WAAW,CAAEkG,QAAQ,IAAK;IAChD,IAAI,CAAC5E,QAAQ,CAACyB,OAAO,EAAE;IACvBzB,QAAQ,CAACyB,OAAO,CAACE,YAAY,GAAGiD,QAAQ;IACxC9D,QAAQ,CAAC8D,QAAQ,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,gBAAgB,GAAGnG,WAAW,CAAC,MAAM;IACvC,IAAI,CAACsB,QAAQ,CAACyB,OAAO,EAAE;IACvBrB,cAAc,CAACJ,QAAQ,CAACyB,OAAO,CAACtB,WAAW,CAAC;EAChD,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM2E,oBAAoB,GAAGpG,WAAW,CAAC,MAAM;IAC3C,IAAI,CAACsB,QAAQ,CAACyB,OAAO,EAAE;IACvBnB,WAAW,CAACN,QAAQ,CAACyB,OAAO,CAACpB,QAAQ,CAAC;EAC1C,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM0E,cAAc,GAAGrG,WAAW,CAAC,MAAM;IACrC,IAAI,CAACsB,QAAQ,CAACyB,OAAO,IAAI,CAACzB,QAAQ,CAACyB,OAAO,CAAClB,QAAQ,CAAC2C,MAAM,EAAE;IAC5D,MAAM8B,WAAW,GAAGhF,QAAQ,CAACyB,OAAO,CAAClB,QAAQ,CAAC0E,GAAG,CAACjF,QAAQ,CAACyB,OAAO,CAAClB,QAAQ,CAAC2C,MAAM,GAAG,CAAC,CAAC;IACvF1C,WAAW,CAACwE,WAAW,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,cAAc,GAAGzF,QAAQ,CAACwB,mBAAmB,CAAC;EAEpD,oBACI3B,OAAA,CAACX,MAAM,CAACwG,GAAG;IACPC,OAAO,EAAE;MAAEC,OAAO,EAAE;IAAE,CAAE;IACxBC,OAAO,EAAE;MAAED,OAAO,EAAE;IAAE,CAAE;IACxBE,SAAS,EAAC,6EAA6E;IAAAC,QAAA,gBAGvFlG,OAAA;MACImG,GAAG,EAAEzF,QAAS;MACd0F,GAAG,EAAEvE,QAAS;MACdwE,YAAY,EAAEd,gBAAiB;MAC/Be,gBAAgB,EAAEd,oBAAqB;MACvCe,UAAU,EAAEd,cAAe;MAC3Be,MAAM,EAAEA,CAAA,KAAM5F,YAAY,CAAC,IAAI,CAAE;MACjC6F,OAAO,EAAEA,CAAA,KAAM7F,YAAY,CAAC,KAAK,CAAE;MACnC8F,OAAO,EAAEA,CAAA,KAAM9F,YAAY,CAAC,KAAK;IAAE;MAAA+F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtC,CAAC,eAGF9G,OAAA;MAAKiG,SAAS,EAAC,iFAAiF;MAAAC,QAAA,eAC5FlG,OAAA;QAAKiG,SAAS,EAAC,6DAA6D;QAAAC,QAAA,gBACxElG,OAAA,CAACP,MAAM;UACHsH,OAAO,EAAC,OAAO;UACfC,IAAI,EAAC,MAAM;UACXC,OAAO,EAAE5G,OAAQ;UACjB4F,SAAS,EAAC,gGAAgG;UAAAC,QAAA,eAE1GlG,OAAA,CAACT,CAAC;YAAC0G,SAAS,EAAC;UAAS;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC,eAET9G,OAAA;UAAGiG,SAAS,EAAC,gEAAgE;UAAAC,QAAA,EAAC;QAE9E;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAEJ9G,OAAA;UAAKiG,SAAS,EAAC,kCAAkC;UAAAC,QAAA,gBAC7ClG,OAAA,CAACP,MAAM;YACHsH,OAAO,EAAC,OAAO;YACfC,IAAI,EAAC,MAAM;YACXC,OAAO,EAAEA,CAAA,KAAMvF,eAAe,CAAC,IAAI,CAAE;YACrCuE,SAAS,EAAC,sGAAsG;YAAAC,QAAA,eAEhHlG,OAAA,CAACV,IAAI;cAAC2G,SAAS,EAAC;YAAS;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC,eACT9G,OAAA,CAACH,YAAY;YAAC0B,KAAK,EAAEA,KAAM;YAAC2F,aAAa,EAAE7B;UAAkB;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAChE9G,OAAA,CAACF,aAAa;YACVqB,MAAM,EAAEA,MAAO;YACfgG,cAAc,EAAEnC,kBAAmB;YACnC3D,OAAO,EAAEA,OAAQ;YACjB+F,YAAY,EAAElC;UAAiB;YAAAyB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EAGLhE,gBAAgB,iBACb9C,OAAA;MAAKiG,SAAS,EAAC,yDAAyD;MAAAC,QAAA,eACpElG,OAAA;QAAKiG,SAAS,EAAC,uFAAuF;QAAAC,QAAA,gBAClGlG,OAAA;UAAMiG,SAAS,EAAC,SAAS;UAAAC,QAAA,EAAC;QAA2B;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC5D9G,OAAA,CAACP,MAAM;UAACwH,OAAO,EAAE5D,iBAAkB;UAAC0D,OAAO,EAAC,SAAS;UAACC,IAAI,EAAC,IAAI;UAAAd,QAAA,EAAC;QAAM;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9E;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACR,EAGA/D,gBAAgB,IAAIE,YAAY,iBAC7BjD,OAAA;MAAKiG,SAAS,EAAC,0BAA0B;MAAAC,QAAA,eACrClG,OAAA;QAAKiG,SAAS,EAAC,oFAAoF;QAAAC,QAAA,eAC/FlG,OAAA;UAAKiG,SAAS,EAAC,SAAS;UAAAC,QAAA,GAAC,YAAU,eAAAlG,OAAA;YAAMiG,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAEjD;UAAY;YAAA0D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACR,eAGD9G,OAAA;MAAKiG,SAAS,EAAC,oFAAoF;MAAAC,QAAA,gBAE/FlG,OAAA,CAACX,MAAM,CAACwG,GAAG;QACPC,OAAO,EAAE;UAAEuB,KAAK,EAAE,GAAG;UAAEtB,OAAO,EAAE,CAAC;UAAEuB,CAAC,EAAE;QAAG,CAAE;QAC3CtB,OAAO,EAAE;UAAEqB,KAAK,EAAE,CAAC;UAAEtB,OAAO,EAAE,CAAC;UAAEuB,CAAC,EAAE;QAAE,CAAE;QACxCC,UAAU,EAAE;UAAEC,KAAK,EAAE,GAAG;UAAEzG,QAAQ,EAAE;QAAI,CAAE;QAC1CkF,SAAS,EAAC,gBAAgB;QAAAC,QAAA,eAE1BlG,OAAA;UAAKiG,SAAS,EAAC,UAAU;UAAAC,QAAA,gBAErBlG,OAAA,CAACX,MAAM,CAACwG,GAAG;YACPG,OAAO,EAAErF,SAAS,GAAG;cAAEoF,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG;YAAE,CAAC,GAAG;cAAEA,OAAO,EAAE;YAAI,CAAE;YACrEwB,UAAU,EAAE5G,SAAS,GAAG;cAAEI,QAAQ,EAAE,CAAC;cAAE0G,MAAM,EAAEC;YAAS,CAAC,GAAG,CAAC,CAAE;YAC/DzB,SAAS,EAAC;UAAkG;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/G,CAAC,eAGF9G,OAAA,CAACX,MAAM,CAACwG,GAAG;YACPG,OAAO,EAAErF,SAAS,GAAG;cACjBgH,OAAO,EAAE;YACb,CAAC,GAAG,CAAC,CAAE;YACPJ,UAAU,EAAE5G,SAAS,GAAG;cACpBI,QAAQ,EAAE,CAAC;cACX0G,MAAM,EAAEC,QAAQ;cAChBE,IAAI,EAAE;YACV,CAAC,GAAG,CAAC,CAAE;YACP3B,SAAS,EAAC,oMAC4G;YAAAC,QAAA,EAErH9F,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEyH,KAAK,gBACZ7H,OAAA;cACIoG,GAAG,EAAEhG,QAAQ,CAACyH,KAAM;cACpBC,GAAG,EAAE1H,QAAQ,CAAC2H,KAAK,IAAI,iBAAkB;cACzC9B,SAAS,EAAC;YAA4B;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzC,CAAC,gBAEF9G,OAAA;cAAKiG,SAAS,EAAC,8FAA8F;cAAAC,QAAA,eACzGlG,OAAA,CAACR,KAAK;gBAACyG,SAAS,EAAE,4BAA4BtF,SAAS,GAAG,cAAc,GAAG,EAAE,EAAG;gBAACqH,KAAK,EAAE;kBACpFC,iBAAiB,EAAEtH,SAAS,GAAG,IAAI,GAAG;gBAC1C;cAAE;gBAAAgG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ;UACR;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAGb9G,OAAA,CAACX,MAAM,CAACwG,GAAG;QACPC,OAAO,EAAE;UAAEwB,CAAC,EAAE,EAAE;UAAEvB,OAAO,EAAE;QAAE,CAAE;QAC/BC,OAAO,EAAE;UAAEsB,CAAC,EAAE,CAAC;UAAEvB,OAAO,EAAE;QAAE,CAAE;QAC9BwB,UAAU,EAAE;UAAEC,KAAK,EAAE;QAAI,CAAE;QAC3BvB,SAAS,EAAC,4BAA4B;QAAAC,QAAA,gBAEtClG,OAAA;UAAIiG,SAAS,EAAC,0EAA0E;UAAAC,QAAA,EACnF,CAAA9F,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAE2H,KAAK,MAAI7H,IAAI,aAAJA,IAAI,wBAAAO,UAAA,GAAJP,IAAI,CAAEgI,IAAI,cAAAzH,UAAA,uBAAVA,UAAA,CAAY0H,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,KAAI;QAAe;UAAAxB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3E,CAAC,EACJ,CAAA1G,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEgI,MAAM,kBACbpI,OAAA;UAAGiG,SAAS,EAAC,qDAAqD;UAAAC,QAAA,EAAE9F,QAAQ,CAACgI;QAAM;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAC1F;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACO,CAAC,EAGZlB,cAAc,iBACX5F,OAAA,CAACX,MAAM,CAACwG,GAAG;QACPC,OAAO,EAAE;UAAEC,OAAO,EAAE;QAAE,CAAE;QACxBC,OAAO,EAAE;UAAED,OAAO,EAAE;QAAE,CAAE;QACxBwB,UAAU,EAAE;UAAEC,KAAK,EAAE;QAAK,CAAE;QAC5BvB,SAAS,EAAC,+FAA+F;QAAAC,QAAA,gBAEzGlG,OAAA;UAAGiG,SAAS,EAAC,uEAAuE;UAAAC,QAAA,EAAC;QAAe;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACxG9G,OAAA;UAAGiG,SAAS,EAAC,6CAA6C;UAAAC,QAAA,EACrDN,cAAc,CAACmC,KAAK,IAAI,WAAWpG,mBAAmB,GAAG,CAAC;QAAE;UAAAgF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CACf,eAGD9G,OAAA,CAACX,MAAM,CAACwG,GAAG;QACPC,OAAO,EAAE;UAAEwB,CAAC,EAAE,EAAE;UAAEvB,OAAO,EAAE;QAAE,CAAE;QAC/BC,OAAO,EAAE;UAAEsB,CAAC,EAAE,CAAC;UAAEvB,OAAO,EAAE;QAAE,CAAE;QAC9BwB,UAAU,EAAE;UAAEC,KAAK,EAAE;QAAI,CAAE;QAC3BvB,SAAS,EAAC,uBAAuB;QAAAC,QAAA,eAEjClG,OAAA,CAACL,WAAW;UACRkB,WAAW,EAAEA,WAAY;UACzBE,QAAQ,EAAEA,QAAS;UACnBE,QAAQ,EAAEA,QAAS;UACnBoH,MAAM,EAAEhE;QAAW;UAAAsC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACM,CAAC,eAGb9G,OAAA,CAACX,MAAM,CAACwG,GAAG;QACPC,OAAO,EAAE;UAAEwB,CAAC,EAAE,EAAE;UAAEvB,OAAO,EAAE,CAAC;UAAEsB,KAAK,EAAE;QAAI,CAAE;QAC3CrB,OAAO,EAAE;UAAEsB,CAAC,EAAE,CAAC;UAAEvB,OAAO,EAAE,CAAC;UAAEsB,KAAK,EAAE;QAAE,CAAE;QACxCE,UAAU,EAAE;UAAEC,KAAK,EAAE;QAAI,CAAE;QAAAtB,QAAA,eAE3BlG,OAAA,CAACN,gBAAgB;UACbiB,SAAS,EAAEA,SAAU;UACrB2H,WAAW,EAAEnE,eAAgB;UAC7BoE,UAAU,EAAEhE,cAAe;UAC3BiE,aAAa,EAAE9D,iBAAkB;UACjC+D,aAAa,EAAE7D,iBAAkB;UACjC8D,aAAa,EAAE5D,iBAAkB;UACjC6D,WAAW,EAAExI,QAAQ,CAACyD,MAAM,GAAG;QAAE;UAAA+C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC,eAGN9G,OAAA,CAACJ,WAAW;MACRO,QAAQ,EAAEA,QAAS;MACnBwB,mBAAmB,EAAEA,mBAAoB;MACzCd,WAAW,EAAEA,WAAY;MACzB+H,eAAe,EAAE7D,mBAAoB;MACrC8D,MAAM,EAAEpH,YAAa;MACrBpB,OAAO,EAAEA,CAAA,KAAMqB,eAAe,CAAC,KAAK;IAAE;MAAAiF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACM,CAAC;AAErB;AAACtG,EAAA,CAhZuBP,eAAe;AAAA6I,EAAA,GAAf7I,eAAe;AAAA,IAAA6I,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}