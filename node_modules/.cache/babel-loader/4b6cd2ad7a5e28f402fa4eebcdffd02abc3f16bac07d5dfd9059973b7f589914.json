{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VorbisTagMapper = void 0;\nconst GenericTagMapper_1 = require(\"../../common/GenericTagMapper\");\n/**\n * Vorbis tag mappings\n *\n * Mapping from native header format to one or possibly more 'common' entries\n * The common entries aim to read the same information from different media files\n * independent of the underlying format\n */\nconst vorbisTagMap = {\n  TITLE: 'title',\n  ARTIST: 'artist',\n  ARTISTS: 'artists',\n  ALBUMARTIST: 'albumartist',\n  'ALBUM ARTIST': 'albumartist',\n  ALBUM: 'album',\n  DATE: 'date',\n  ORIGINALDATE: 'originaldate',\n  ORIGINALYEAR: 'originalyear',\n  COMMENT: 'comment',\n  TRACKNUMBER: 'track',\n  DISCNUMBER: 'disk',\n  GENRE: 'genre',\n  METADATA_BLOCK_PICTURE: 'picture',\n  COMPOSER: 'composer',\n  LYRICS: 'lyrics',\n  ALBUMSORT: 'albumsort',\n  TITLESORT: 'titlesort',\n  WORK: 'work',\n  ARTISTSORT: 'artistsort',\n  ALBUMARTISTSORT: 'albumartistsort',\n  COMPOSERSORT: 'composersort',\n  LYRICIST: 'lyricist',\n  WRITER: 'writer',\n  CONDUCTOR: 'conductor',\n  // 'PERFORMER=artist (instrument)': 'performer:instrument', // ToDo\n  REMIXER: 'remixer',\n  ARRANGER: 'arranger',\n  ENGINEER: 'engineer',\n  PRODUCER: 'producer',\n  DJMIXER: 'djmixer',\n  MIXER: 'mixer',\n  LABEL: 'label',\n  GROUPING: 'grouping',\n  SUBTITLE: 'subtitle',\n  DISCSUBTITLE: 'discsubtitle',\n  TRACKTOTAL: 'totaltracks',\n  DISCTOTAL: 'totaldiscs',\n  COMPILATION: 'compilation',\n  RATING: 'rating',\n  BPM: 'bpm',\n  KEY: 'key',\n  MOOD: 'mood',\n  MEDIA: 'media',\n  CATALOGNUMBER: 'catalognumber',\n  RELEASESTATUS: 'releasestatus',\n  RELEASETYPE: 'releasetype',\n  RELEASECOUNTRY: 'releasecountry',\n  SCRIPT: 'script',\n  LANGUAGE: 'language',\n  COPYRIGHT: 'copyright',\n  LICENSE: 'license',\n  ENCODEDBY: 'encodedby',\n  ENCODERSETTINGS: 'encodersettings',\n  BARCODE: 'barcode',\n  ISRC: 'isrc',\n  ASIN: 'asin',\n  MUSICBRAINZ_TRACKID: 'musicbrainz_recordingid',\n  MUSICBRAINZ_RELEASETRACKID: 'musicbrainz_trackid',\n  MUSICBRAINZ_ALBUMID: 'musicbrainz_albumid',\n  MUSICBRAINZ_ARTISTID: 'musicbrainz_artistid',\n  MUSICBRAINZ_ALBUMARTISTID: 'musicbrainz_albumartistid',\n  MUSICBRAINZ_RELEASEGROUPID: 'musicbrainz_releasegroupid',\n  MUSICBRAINZ_WORKID: 'musicbrainz_workid',\n  MUSICBRAINZ_TRMID: 'musicbrainz_trmid',\n  MUSICBRAINZ_DISCID: 'musicbrainz_discid',\n  ACOUSTID_ID: 'acoustid_id',\n  ACOUSTID_ID_FINGERPRINT: 'acoustid_fingerprint',\n  MUSICIP_PUID: 'musicip_puid',\n  // 'FINGERPRINT=MusicMagic Fingerprint {fingerprint}': 'musicip_fingerprint', // ToDo\n  WEBSITE: 'website',\n  NOTES: 'notes',\n  TOTALTRACKS: 'totaltracks',\n  TOTALDISCS: 'totaldiscs',\n  // Discogs\n  DISCOGS_ARTIST_ID: 'discogs_artist_id',\n  DISCOGS_ARTISTS: 'artists',\n  DISCOGS_ARTIST_NAME: 'artists',\n  DISCOGS_ALBUM_ARTISTS: 'albumartist',\n  DISCOGS_CATALOG: 'catalognumber',\n  DISCOGS_COUNTRY: 'releasecountry',\n  DISCOGS_DATE: 'originaldate',\n  DISCOGS_LABEL: 'label',\n  DISCOGS_LABEL_ID: 'discogs_label_id',\n  DISCOGS_MASTER_RELEASE_ID: 'discogs_master_release_id',\n  DISCOGS_RATING: 'discogs_rating',\n  DISCOGS_RELEASED: 'date',\n  DISCOGS_RELEASE_ID: 'discogs_release_id',\n  DISCOGS_VOTES: 'discogs_votes',\n  CATALOGID: 'catalognumber',\n  STYLE: 'genre',\n  //\n  REPLAYGAIN_TRACK_GAIN: 'replaygain_track_gain',\n  REPLAYGAIN_TRACK_PEAK: 'replaygain_track_peak',\n  REPLAYGAIN_ALBUM_GAIN: 'replaygain_album_gain',\n  REPLAYGAIN_ALBUM_PEAK: 'replaygain_album_peak',\n  // To Sure if these (REPLAYGAIN_MINMAX, REPLAYGAIN_ALBUM_MINMAX & REPLAYGAIN_UNDO) are used for Vorbis:\n  REPLAYGAIN_MINMAX: 'replaygain_track_minmax',\n  REPLAYGAIN_ALBUM_MINMAX: 'replaygain_album_minmax',\n  REPLAYGAIN_UNDO: 'replaygain_undo'\n};\nclass VorbisTagMapper extends GenericTagMapper_1.CommonTagMapper {\n  static toRating(email, rating, maxScore) {\n    return {\n      source: email ? email.toLowerCase() : email,\n      rating: parseFloat(rating) / maxScore * GenericTagMapper_1.CommonTagMapper.maxRatingScore\n    };\n  }\n  constructor() {\n    super(['vorbis'], vorbisTagMap);\n  }\n  postMap(tag) {\n    if (tag.id === 'RATING') {\n      // The way Winamp 5.666 assigns rating\n      tag.value = VorbisTagMapper.toRating(undefined, tag.value, 100);\n    } else if (tag.id.indexOf('RATING:') === 0) {\n      const keys = tag.id.split(':');\n      tag.value = VorbisTagMapper.toRating(keys[1], tag.value, 1);\n      tag.id = keys[0];\n    }\n  }\n}\nexports.VorbisTagMapper = VorbisTagMapper;\n//# sourceMappingURL=VorbisTagMapper.js.map","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}