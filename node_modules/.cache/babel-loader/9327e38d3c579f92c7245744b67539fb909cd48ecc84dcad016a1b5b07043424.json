{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Header = void 0;\nconst Token = require(\"token-types\");\nconst util = require(\"../../common/Util\");\n/**\n * BASIC STRUCTURE\n */\nexports.Header = {\n  len: 6 * 4,\n  get: (buf, off) => {\n    const header = {\n      // word 0\n      signature: Buffer.from(buf).toString('latin1', off, off + 3),\n      // versionIndex number * 1000 (3.81 = 3810) (remember that 4-byte alignment causes this to take 4-bytes)\n      streamMinorVersion: util.getBitAllignedNumber(buf, off + 3, 0, 4),\n      streamMajorVersion: util.getBitAllignedNumber(buf, off + 3, 4, 4),\n      // word 1\n      frameCount: Token.UINT32_LE.get(buf, off + 4),\n      // word 2\n      maxLevel: Token.UINT16_LE.get(buf, off + 8),\n      sampleFrequency: [44100, 48000, 37800, 32000][util.getBitAllignedNumber(buf, off + 10, 0, 2)],\n      link: util.getBitAllignedNumber(buf, off + 10, 2, 2),\n      profile: util.getBitAllignedNumber(buf, off + 10, 4, 4),\n      maxBand: util.getBitAllignedNumber(buf, off + 11, 0, 6),\n      intensityStereo: util.isBitSet(buf, off + 11, 6),\n      midSideStereo: util.isBitSet(buf, off + 11, 7),\n      // word 3\n      titlePeak: Token.UINT16_LE.get(buf, off + 12),\n      titleGain: Token.UINT16_LE.get(buf, off + 14),\n      // word 4\n      albumPeak: Token.UINT16_LE.get(buf, off + 16),\n      albumGain: Token.UINT16_LE.get(buf, off + 18),\n      // word\n      lastFrameLength: Token.UINT32_LE.get(buf, off + 20) >>> 20 & 0x7FF,\n      trueGapless: util.isBitSet(buf, off + 23, 0)\n    };\n    header.lastFrameLength = header.trueGapless ? Token.UINT32_LE.get(buf, 20) >>> 20 & 0x7FF : 0;\n    return header;\n  }\n};","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}