{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TheoraParser = void 0;\nconst debug_1 = require(\"debug\");\nconst Theora_1 = require(\"./Theora\");\nconst debug = (0, debug_1.default)('music-metadata:parser:ogg:theora');\n/**\n * Ref:\n * - https://theora.org/doc/Theora.pdf\n */\nclass TheoraParser {\n  constructor(metadata, options, tokenizer) {\n    this.metadata = metadata;\n    this.tokenizer = tokenizer;\n  }\n  /**\n   * Vorbis 1 parser\n   * @param header Ogg Page Header\n   * @param pageData Page data\n   */\n  parsePage(header, pageData) {\n    if (header.headerType.firstPage) {\n      this.parseFirstPage(header, pageData);\n    }\n  }\n  flush() {\n    debug('flush');\n  }\n  calculateDuration(header) {\n    debug('duration calculation not implemented');\n  }\n  /**\n   * Parse first Theora Ogg page. the initial identification header packet\n   * @param {IPageHeader} header\n   * @param {Buffer} pageData\n   */\n  parseFirstPage(header, pageData) {\n    debug('First Ogg/Theora page');\n    this.metadata.setFormat('codec', 'Theora');\n    const idHeader = Theora_1.IdentificationHeader.get(pageData, 0);\n    this.metadata.setFormat('bitrate', idHeader.nombr);\n  }\n}\nexports.TheoraParser = TheoraParser;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}